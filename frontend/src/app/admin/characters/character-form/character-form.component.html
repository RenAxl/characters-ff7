<div class="character-form-container">
  <div class="character-card">
    <form #characterForm="ngForm" (ngSubmit)="save(characterForm)">
      <div class="col-12">
        <h1>Dados do Personagem</h1>
      </div>
      <div class="row">
        <div class="col-lg-6 mt-2">
          <div>
            <input
              pInputText
              placeholder="Nome"
              type="text"
              name="name"
              [(ngModel)]="character.name"
              #name="ngModel"
              [required]="true"
              minlength="5"
              class="form-control"
            />
          </div>

          <app-message
            [control]="name"
            error="required"
            text="Informe o nome do Personagem"
          ></app-message>
          <app-message
            [control]="name"
            error="minlength"
            text="Mínimo de {{ name.errors?.['minlength']?.requiredLength }} caracteres."
          ></app-message>

          <div class="mt-3">
            <p-dropdown
              [options]="categories"
              placeholder="Categoria"
              optionLabel="name"
              name="category"
              [(ngModel)]="select"
              #category
              [required]="true"
              styleClass="form-control"
            ></p-dropdown>
          </div>

          <div class="mt-3">
            <textarea 
            pInputTextarea
            placeholder="História do personagem"
            type="text"
            name="name"
            [rows]="5" 
            [(ngModel)]="character.history"
            #history="ngModel"
            [required]="true"
            class="form-control"
            ></textarea>
          </div>
  
          <app-message
            [control]="history"
            error="required"
            text="Informe a historia do personagem"
          ></app-message>
        </div>

        <div class="col-lg-6 mb-6 mt-2">
          <div>
            <p-inputNumber
              placeholder="Idade"
              [(ngModel)]="character.age"
              name="height"
              #age="ngModel"
              [required]="true"
              inputStyleClass="form-control "
            >
            </p-inputNumber>
          </div>

          <app-message
            [control]="age"
            error="required"
            text="Informe a idade do personagem"
          ></app-message>

          <div class="mt-3">
            <input
              pInputText
              placeholder="Residência"
              type="text"
              name="residence"
              [(ngModel)]="character.residence"
              #residence="ngModel"
              [required]="true"
              minlength="5"
              class="form-control"
            />
          </div>

          <app-message
            [control]="residence"
            error="required"
            text="Informe a residência do personagem"
          ></app-message>

          <div class="mt-3">
            <input
              pInputText
              placeholder="URL da imagem"
              type="text"
              name="imgUrl"
              [(ngModel)]="character.imgUrl"
              #imgUrl="ngModel"
              [required]="true"
              minlength="5"
              class="form-control"
            />
          </div>

          <app-message
            [control]="imgUrl"
            error="required"
            text="Informe a URL da imagem"
          ></app-message>

        </div>
      </div>

      <div class="character-form-buttons">
        <button
          type="submit"
          [disabled]="characterForm.invalid"
          class="btn btn-primary character-form-button"
        >
          SALVAR
        </button>

        <a routerLink="/admin/characters/list">
          <button
            type="button"
            class="btn btn-outline-danger character-form-button ml-3"
          >
            CANCELAR
          </button>
        </a>
      </div>
    </form>
  </div>
</div>
